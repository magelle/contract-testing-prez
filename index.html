<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>N’ayez plus peur de refactorer vos API WEB</title>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">
		<link rel="stylesheet" href="css/custom.css">


		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h1>N’ayez plus peur de refactorer vos API WEB</h1>
				</section>
				<section>
					<h1>Jessica & Maxime</h1>
					<aside class="notes">Une note pour le speaker</aside>
				</section>
				
				<section>
					<section>
						<h2>#micro-services !!!</h2>
						<b>Gif Success</b>
					</section>
					<section>
						<h3>Ma belle architecture</h3>
						<img src="images/microservices-architecture.png" alt="Notre super architcture">
					</section>
				</section>
				
				<section>
					<section>
						<h3>Maintenant il faut le faire évoluer</h3>
						<img src="" alt="OMG">
					</section>
					<!-- <section>
						<h2>New Feature : Gérer toutes devises</h2>
						<h3>Il faut modifier une API</h3>
					</section> -->
					<section>
						<ul>
							<li>Comment pas tout casser ?</li>
							<li>Combien ça va coûter ?</li>
						</ul>
					</section>
					<section>
						<h2>Ce serait génial si on savait</h2>
						<ul>
							<li>Qui utilise ? Quelle API / version ?</li>
							<li>Quels services communiquent ?</li>
							<li>Quels sont les formats d'échange ?</li>
							<li>Mesurer les impacts d'une évolution</li>
							<li>Valider une nouvelle version</li>
						</ul>
					</section>
					<section>
						<h2>En gros</h2>
						<p>D'habitude on teste ça</p>
						<img src="" alt="Un service est testé">
					</section>
					<section>
						<h2>Il nous manque ce petit bout</h2>
						<img src="" alt="Interaction entre deux services">
					</section>
				</section>

				<section>
					<section>
						<h1>Contract Testing !</h1>
					</section>
					<section>
						<h3>Tester les interactions</h3>
						<h4>Entre provider et consumer</h4>
					</section>
					<section>
						<h2>Coté Service (provider)</h2>
						<h3>C'est celui qui propose l'API</h3>
						<img src="" alt="Un contract -> des tests d'appels de l'API"/>
						<p>
							Provider: An application (often called a service) that provides functionality or data for other applications to use, often via an API.
						</p>
						<aside class="notes">
							For applications that use HTTP, the provider is the application that returns the response.
							For applications that use queues, the provider (also called producer) is the application that writes the messages to the queue.
						</aside>
					</section>
					<section>
						<h2>Coté Client (consumer)</h2>
						<h3>C'est celui qui appelle l'API</h3>
						<img src="" alt="Un contract -> Un fake que le client peut appeler"/>
						<p>
							An application that makes use of the functionality or data from another application to do its job.
						</p>
						<aside class="notes">
							For applications that use HTTP, the consumer is always the application that initiates the HTTP request (eg. the web front end), regardless of the direction of data flow.
							For applications that use queues, the consumer is the application that reads the message from the queue.
						</aside>
					</section>
					<!-- <section>
						<h2>Késako</h2>
						<img src="" alt="Interaction entre deux services">
					</section> -->
					<section>
						<img src="images/mocks.jpg" alt="Un contract" >
					</section>
					<section>
						<h2>On définit un contrat</h2>
						<img src="images/a-contract.png" alt="Un contract" >
					</section>
					<section>
						<h2>On définit une interaction</h2>
						<img src="images/an-interaction.png" alt="Une interaction" >
					</section>
				
					<section>
						<h4>Test d'un provider</h4>
						<img src="images/pact-provider-verification.png"/>
					</section>
					<section>
						<h4>Test d'un consumer</h4>
						<img src="images/pact-consumer-verification.png"/>
					</section>
					<section>
						<h2>Au global</h2>
						<img src="images/pact-test-and-verify.png" alt="Global view">
					</section>
				</section>

				<section>
					<section>
						<h3>Qui définit le contrat ?</h3>
						<h4>Consumer driven VS Provider driven</h4>
					</section>

					<section>
						<h1>provider Driven Contract Testing</h1>
						<h2>Je fonctionne de cette manière</h2>
					</section>
					<section>
						<h1>provider Driven Contract Testing</h1>
						<ul>
							<li>On ne connait pas les clients</li>
							<li>...</li>
						</ul>
					</section>			

					<section>
						<h1>Consumer Driven Contract Testing</h1>
						<h2>J'ai besoin de ça</h2>
					</section>
					<!-- <section>
						<img src="images/consumer-side.png"/>
					</section>
					<section>
						<img src="images/provider-side.png"/>
					</section> -->
					<section>
						<ul>
							<li>Voir les endpoints non/mal utilisés</li>
							<li>Identifier les consumers</li>
							<li></li>
						</ul>
					</section>

					<section>
						<h1>C'est qui le plus fort ?</h1>
					</section>
					<section>
						<h3>Quand faire du provider driven ?</h3>
                        <ul>
                            <li>Pour tester une API Publique</li>
                            <li></li>
                            <li></li>
                            <li></li>
                        </ul>
					</section>
					<section>
						<h3>Quand faire du consumer driven ?</h3>
                        <ul>
                            <li>Les besoins du client dirigent les developpements</li>
                            <li></li>
                            <li></li>
                            <li>Peu de consumers pour un même driver</li>
                        </ul>
					</section>

				</section>

				<section>
					<section>
						<h1>Pact</h1>
						<img src="images/pact-logo.png" alt="Pact logo" >
					</section>
					<section>
						<h3>Consumer Driven Contract Testing</h3>
						<p> prendre les images cools de ce lien https://docs.pact.io/getting_started/how_pact_works</p>
					</section>
					<!-- <section>
						<h4>Test d'un consumer</h4>
					</section>
					<section>
						<h4>Définition d'une interaction PACT</h4>
					</section>
					<section>
						<h4>Test d'un provider</h4>
					</section> -->

					<section>
						<h3>Polyglote</h3>
						<img src="images/logo-techno/ruby.png" height="100px">
						<img src="images/logo-techno/java.png" height="100px">
						<img src="images/logo-techno/dotnet.png" height="100px">
						<img src="images/logo-techno/go.png" height="100px">
						<img src="images/logo-techno/javascript.png" height="100px">
						<img src="images/logo-techno/swift.png" height="100px">
						<img src="images/logo-techno/php.png" height="100px">		
					</section>
					<section>
						<h3>Version de contract</h3>
					</section>
					<section>
						<h3>Pourquoi ?</h3>
						<ul>
							<li>Open source</li>
							<li>Communauté active</li>
							<li>Bien documenté</li>
							<li>Polyglotte</li>
						</ul>
					</section>
					<section>
						<h2>Notre cas</h2>
					</section>
					<section>
						<h2>Démo</h2>
					</section>
				</section>

				<section>
					<section>
						<h2>Conclusion</h2>
					</section>
					<section>
						<table>
							<thead>
								<tr>
									<td>Do</td>
									<td>Don't</td>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<ul>
											<li>Tests d'interactions</li>
											<li>Tests du format d'échange</li>
										</ul>
									</td>
									<td>
										<ul>
											<li>Tests fonctionnels</li>
											<li>Tests de charge</li>
										</ul>
									</td>
								</tr>
							</tbody>
						</table>
					</section>
				</section>

			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true }
				]
			});
		</script>
	</body>
</html>
